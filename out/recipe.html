<!DOCTYPE html5>
<html>
	<head>
        <!--JQUERY-->
		<script language="JavaScript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script language="JavaScript" src="//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
		<script language="JavaScript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
        <!--my less-->
        <link rel="stylesheet/less" type="text/css" href="dlsbridal.less" />
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">
        <script src="less-1.6.0.min.js" type="text/javascript"></script>
        <!--prettier dialogs!-->
        <script src="bootbox.min.js" type="text/javascript"></script>
        <!--fancy poloroid font-->
        <link href="http://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet" type="text/css">
        <!-- Latest compiled and minified bootstrap JavaScript-->
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script> 
		<!-- Please download the JW Player plugin from http://www.longtailvideo.com/jw-player/download
		<!--<script type="text/javascript" src="/jwplayer/jwplayer.js"></script>-->
		<script language="JavaScript" src="scriptcam.js"></script>
		<link href="//ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
        <div id="page">
        <div id="maincontainer">
        <div id="mynavbardiv">
            <ul id="mynavbar">
            <li><a class="link" href="index.html">SHOWER INFO</a></li>
            <li><a class="link" href="rsvp.html">RSVP</a></li>
            <li><a class="link" href="gifts.html">GIFTS</a></li>
            <li><a class="link" href="http://www.weddingwire.com/wedding/UserViewWebsite?wid=8ca4ec51ebcfd05b&themeCode=&is_demo=">WEDDING SITE</a></li>
            </ul></div> 
        <div id="sidepanel">
            <!--<p id="title">Congrats Dana & Luke!</p>
            <img id="coupleimg" src="lukedana.jpg">-->
            <div class="polaroid">
            <div id="coupleimage"></div>
            <p>Congratulations <br> Luke and Dana</p>
            </div>
            </div>
            <div id=flexcontentwrapper> <!--heh not actually a wrapper-->
            </div>
        
<div id="flexcontent">
    <div id="recipe">
        <!--<form name="myform" action="cgi-bin/save.py" method="post">-->
        <form name="myform" action="save.py" method="post">
        <p>Please enter a favorite recipe for Dana and Luke!:</p>
        <!--<textarea id="recipetitle" name="recipetitle"  rows="1" placeholder="RECIPE NAME"></textarea>-->
        <input type="text" id="recipeauthor" name="recipeauthor" placeholder="YOUR NAME" size:"10">
        <div class="recipeselect">
        <select class="recipetypes" id="recipetypes" name="recipetype">
            <option value="none">RECIPE TYPE</option>
            <option value="appetizer">appetizer</option>
            <option value="salad">salad</option>
            <option value="side">side</option>
            <option value="brunch">brunch</option>
            <option value="main">main</option>
            <option value="dessert">dessert</option>
            <option value="drink">drink</option>
        </select>
        </div>
        <textarea id="recipetitle" name="recipetitle"  rows="1" placeholder="RECIPE NAME"></textarea>
        <textarea id="recipeing" name="recipeing"  rows="3" placeholder="INGREDIENTS"></textarea>  
        <textarea id="recipeinst" name="recipeinst"  rows="4" placeholder="INSTRUCTIONS"></textarea>  
        <textarea id="recipehist" name="recipehist"  rows="2" placeholder="HISTORY (Does this recipe have a special history or story? Tell us about it!)"></textarea>
        <textarea id="recipenut" name="recipenut"  rows="2" placeholder="NUTRITIONAL INFO (optional)"></textarea>
        <span id="uploader" class="recipephotoupload" onclick="recipefileselector.click()">Upload photo of dish (optional)<input type="file" id="recipefileselector" name="files[]" multiple /></span>
        <input id="clearbutton" type="button" onclick=clearphotostring() value="Clear photo selection" disabled>
        <input type="hidden" name="recipephoto" id="recipephoto">
        <output id="recipethumbnaildisplay"></output>
        <input id="recipesavebtn" class="mybutton" type="submit" value="Save">
        </form>
    </div>

</div>
<script>
function clearphotostring() {
    base64sToUpload= new Array ();
    console.log(base64sToUpload);
    document.getElementById('recipephoto').value="";
    $('#recipethumbnaildisplay').empty();
    $('#clearbutton').attr("disabled", true)
    return base64sToUpload
}
base64sToUpload= new Array()
  function handleFileSelect(uploadevent) {
    var files = uploadevent.target.files; // FileList object
    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
        continue;
      }

      var reader = new FileReader();
      // if you want to display thumbnail
      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          // Render thumbnail.
          var span = document.createElement('span');
            console.log(e)
            console.log('base64output:')
            console.log(e.target.result)
            base64sToUpload.push(e.target.result);
            document.getElementById('recipephoto').value=base64sToUpload;
            $('#clearbutton').attr("disabled", false)
          span.innerHTML = ['<img class="recipethumbnail" src="', e.target.result,
                            '" title="', escape(theFile.name), '"/>'].join('');
          document.getElementById('recipethumbnaildisplay').insertBefore(span, null);
          console.log('recipe photo')
          console.log(document.getElementById('recipephoto').value)
        };
      })(f);

      // Read in the image file as a data URL.
      base64=reader.readAsDataURL(f);

    }
  document.getElementById('recipefileselector').addEventListener('change', handleFileSelect, false);
  }

  document.getElementById('recipefileselector').addEventListener('change', handleFileSelect, false);
</script>

	   </div>
     </div>
        <script>
        function validateRSVP(){
        rsvp=$("#rsvptext").val();
        console.log('validating')
        console.log(rsvp)
        if (rsvp==""){
        bootbox.alert("Oops! Please enter your name");
               }
        else {document.getElementById("myform").submit();}}
        </script>
         <script>
        function validatetext(){
        msg=$("#textmessage").val();
        console.log('validating')
        console.log(msg)
        if (msg==""){
        bootbox.alert("Oops! Please enter text.");
               }
        else {document.getElementById("myform").submit();}}
        </script>
    </body>
</html>
